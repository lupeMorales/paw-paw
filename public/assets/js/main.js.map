{"version":3,"sources":["game.js","main.js","maps.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxNA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\nconst canvas = document.querySelector(\".js-canvas\");\nconst game = canvas.getContext(\"2d\");\n\nconst btnUp = document.querySelector(\".item-up\");\nconst btnDown = document.querySelector(\".item-down\");\nconst btnRight = document.querySelector(\".item-right\");\nconst btnLeft = document.querySelector(\".item-left\");\n\nlet canvasSize;\nlet elementSize;\n\nlet level = 3;\n\nlet playerPosition = {\n  x: undefined,\n  y: undefined,\n};\n\nfunction setCanvasSize() {\n  //game screen size\n  if (window.innerHeight > window.innerWidth) {\n    canvasSize = window.innerWidth * 0.75;\n  } else {\n    canvasSize = window.innerHeight * 0.75;\n  }\n\n  canvas.setAttribute(\"width\", canvasSize);\n  canvas.setAttribute(\"height\", canvasSize);\n\n  //elements size\n  elementSize = canvasSize / 10 - 1;\n  game.font = elementSize + \"px Verdana\";\n  game.textAlign = \"end\";\n\n  startGame();\n}\n\nfunction renderMapLevel(level) {\n  const mapLevel = maps[level].trim().split(\"\\n\");\n  // this is a bidimensional array\n  const actualMapLevel = mapLevel.map((row) => row.trim().split(\"\"));\n\n  console.log({ mapLevel, actualMapLevel });\n  clearCanvas();\n  actualMapLevel.forEach((row, indexRow) => {\n    row.forEach((column, indexColumn) => {\n      const emoji = emojis[column];\n      const positionX = elementSize * (indexColumn + 1);\n      const positionY = elementSize * (indexRow + 1);\n\n      if (column == \"O\") {\n        if (!playerPosition.x && !playerPosition.y) {\n          playerPosition.x = positionX;\n          playerPosition.y = positionY;\n        }\n      }\n      game.fillText(emoji, positionX, positionY);\n    });\n  });\n  getPlayerPosition();\n  /*  game.fillText(emojis[\"PLAYER\"], playerPosition.x, playerPosition.y); */\n  /*   for (let i = 1; i <= 10; i++) {\n    for (let j = 1; j <= 10; j++) {\n      game.fillText(\n        emojis[actualMapLevel[j - 1][i - 1]],\n        elementSize * i,\n        elementSize * j\n      );\n    }\n  } */\n}\nfunction moveUp() {\n  console.log(\"up\");\n  console.log(playerPosition);\n  playerPosition.y -= elementSize;\n  startGame();\n}\nfunction moveDown() {\n  playerPosition.y += elementSize;\n  startGame();\n}\nfunction moveLeft() {\n  console.log(\"left\");\n\n  playerPosition.x -= elementSize;\n  startGame();\n}\nfunction moveRight() {\n  console.log(\"right\");\n\n  playerPosition.x += elementSize;\n  startGame();\n}\nfunction moveByKeys(ev) {\n  if (ev.key == \"ArrowUp\") moveUp();\n  else if (ev.key == \"ArrowDown\") moveDown();\n  else if (ev.key == \"ArrowLeft\") moveLeft();\n  else if (ev.key == \"ArrowRight\") moveRight();\n}\n\nfunction getPlayerPosition() {\n  game.fillText(emojis[\"PLAYER\"], playerPosition.x, playerPosition.y);\n}\nfunction clearCanvas() {\n  game.clearRect(0, 0, canvasSize, canvasSize);\n}\nfunction startGame() {\n  console.log(\"starting game\");\n\n  renderMapLevel(level);\n}\n\n// events\nwindow.addEventListener(\"load\", setCanvasSize);\nwindow.addEventListener(\"resize\", setCanvasSize);\nwindow.addEventListener(\"keydown\", moveByKeys);\n\nbtnUp.addEventListener(\"click\", moveUp);\nbtnDown.addEventListener(\"click\", moveDown);\nbtnRight.addEventListener(\"click\", moveRight);\nbtnLeft.addEventListener(\"click\", moveLeft);\n\n/* let canvasSize;\nlet elementSize;\nlet level = 0;\n\nlet playerPosition = {\n  x: undefined,\n  y: undefined,\n};\n\nfunction startGame() {\n  console.log(\"let's go\");\n  //render\n  console.log({ canvasSize, elementSize });\n  game.font = elementSize + \"px Verdana\";\n  game.textAlign = \"end\";\n\n  renderMap(level);\n}\n\nfunction renderMap() {\n  //crear array bidimensional a partir de nuestro map\n  const map = maps[2];\n  const mapRows = map.trim().split(\"\\n\");\n  const actualMap = mapRows.map((row) => row.trim().split(\"\"));\n  console.log({ mapRows, actualMap });\n  //recorre el array bidimensional y renderiza\n  /*   for (let i = 1; i <= 10; i++) {\n    for (let j = 1; j <= 10; j++) {\n      game.fillText(\n        emojis[actualMap[j - 1][i - 1]],\n        elementSize * i,\n        elementSize * j\n      );\n    }\n  } */\n//se puede hacer con forEach\n/*   actualMap.forEach((row, indexRow) => {\n    row.forEach((col, indexCol) => {\n      const posX = indexCol + 1;\n      const posY = indexRow + 1;\n      if (col == \"O\") {\n        playerPosition.x = posX;\n        playerPosition.y = posY;\n        console.log({ playerPosition });\n      }\n      game.fillText(emojis[col], elementSize * posX, elementSize * posY);\n    });\n  });\n\n  game.fillText(emojis[\"PLAYER\"], 8, 9);\n  console.log(playerPosition.x);\n}\n\nfunction setCanvasSize() {\n  if (window.innerHeight > window.innerWidth) {\n    canvasSize = window.innerWidth * 0.75;\n  } else {\n    canvasSize = window.innerHeight * 0.75;\n  }\n  canvas.setAttribute(\"width\", canvasSize);\n  canvas.setAttribute(\"height\", canvasSize);\n\n  elementSize = canvasSize / 10 - 1;\n\n  startGame();\n}\nfunction moveUp() {\n  console.log(\"me muevo hacia arriba\");\n}\nfunction moveDown() {\n  console.log(\"me muevo hacia abajo\");\n}\nfunction moveLeft() {\n  console.log(\"me muevo hacia izquierda\");\n}\nfunction moveRight() {\n  console.log(\"me muevo hacia derecha\");\n}\nfunction moveByKeys(ev) {\n  if (ev.key == \"ArrowUp\") moveUp();\n  else if (ev.key == \"ArrowDown\") moveDown();\n  else if (ev.key == \"ArrowRight\") moveRight();\n  else if (ev.key == \"ArrowLeft\") moveLeft();\n}\nup.addEventListener(\"click\", moveUp);\ndown.addEventListener(\"click\", moveDown);\nright.addEventListener(\"click\", moveRight);\nleft.addEventListener(\"click\", moveLeft);\n\nwindow.addEventListener(\"keydown\", moveByKeys);\n\nwindow.addEventListener(\"load\", setCanvasSize);\nwindow.addEventListener(\"resize\", setCanvasSize); */\n","'use strict';\n\nconsole.log('>> Ready :)');\n","\"use strict\";\nconst emojis = {\n  \"-\": \" \",\n  O: \"üè†\",\n  X: \"üå≥\",\n  I: \"ü¶¥\",\n  PLAYER: \"üê∂\",\n  BOMB_COLLISION: \"üóØÔ∏è\",\n  GAME_OVER: \"üëé\",\n  WIN: \"üèÜ\",\n};\nconst maps = [];\nmaps.push(`\n    IXXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    -XXXXXXXXX\n    OXXXXXXXXX\n  `);\nmaps.push(`\n    O--XXXXXXX\n    X--XXXXXXX\n    XX----XXXX\n    X--XX-XXXX\n    X-XXX--XXX\n    X-XXXX-XXX\n    XX--XX--XX\n    XX--XXX-XX\n    XXXX---IXX\n    XXXXXXXXXX\n    `);\nmaps.push(`\n    I-----XXXX\n    XXXXX-XXXX\n    XX----XXXX\n    XX-XXXXXXX\n    XX-----XXX\n    XXXXXX-XXX\n    XX-----XXX\n    XX-XXXXXXX\n    XX-----OXX\n    XXXXXXXXXX\n  `);\nmaps.push(`\n  O---XXXXXX\n  XXX-XXXXXX\n  XXX-XXXXIX\n  XXX-XXXX-X\n  XXX---XX-X\n  XX--X-XX-X\n  XX--X-XX-X\n  XX--XXXX-X\n  XX-------X\n  XXXXXXXXXX\n`);\n"]}